 
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
<system.webServer>
     <rewrite>
         <outboundRules>
        <!-- FIRST SETUP THE SWITCHES FOR THE RESPONSE ENCODING //-->
             <rule name="Rewrite JSGZ header" preCondition="IsJSGZ" stopProcessing="false">
                 <match serverVariable="RESPONSE_Content_Encoding" pattern=".*" />
                 <action type="Rewrite" value="gzip" />
             </rule>
            <rule name="Rewrite MemGZ header" preCondition="IsMemGZ" stopProcessing="false">
                 <match serverVariable="RESPONSE_Content_Encoding" pattern=".*" />
                 <action type="Rewrite" value="gzip" />
             </rule>
              <rule name="Rewrite DataGZ header" preCondition="IsDataGZ" stopProcessing="false">
                 <match serverVariable="RESPONSE_Content_Encoding" pattern=".*" />
                 <action type="Rewrite" value="gzip" />
             </rule>
            <rule name="Rewrite Unity3DGZ header" preCondition="IsUnity3DGZ" stopProcessing="true">
                 <match serverVariable="RESPONSE_Content_Encoding" pattern=".*" />
                 <action type="Rewrite" value="gzip" />
             </rule>
             <!-- AND SETUP THE MATCHES FOR THE RESPONSE ENCODING SWITCHES //-->
            <preConditions>
                 <preCondition name="IsJSGZ">
                     <add input="{PATH_INFO}" pattern="\.jsgz$" />
            </preCondition>
                 <preCondition name="IsMemGZ">
                     <add input="{PATH_INFO}" pattern="\.memgz$" />
                 </preCondition>
            <preCondition name="IsDataGZ">
                     <add input="{PATH_INFO}" pattern="\.datagz$" />
                 </preCondition>
            <preCondition name="IsUnity3DGZ">
                     <add input="{PATH_INFO}" pattern="\.unity3dgz$" />
                 </preCondition>
             </preConditions>
        </outboundRules>
     </rewrite>
</system.webServer>
</configuration>